{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section wave-bg" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 4rem 0; margin-top: -120px; padding-top: 160px;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-light mb-4 animate-fade-in-up">
                    –ì–æ—Ä–æ–¥—Å–∫–æ–π –∫–æ–º—Ñ–æ—Ä—Ç <br>
                    <strong class="fw-bold text-gradient-animated">–ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º</strong>
                </h1>
                <p class="lead text-muted mb-4 animate-fade-in-up animation-delay-200">
                    –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —á–∏—Å—Ç—ã–º —Ç—É–∞–ª–µ—Ç–∞–º –≤ –ª—é–±–æ–π —Ç–æ—á–∫–µ –≥–æ—Ä–æ–¥–∞. 
                    –û–ø–ª–∞—á–∏–≤–∞–π—Ç–µ –æ–Ω–ª–∞–π–Ω –∏ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –¥–≤–µ—Ä–∏ —Å –ø–æ–º–æ—â—å—é QR-–∫–æ–¥–∞.
                </p>
                
                <div class="info-box p-4 mb-4 animate-fade-in-up animation-delay-300 hover-lift" style="background: var(--dark-gray); color: white;">
                    <h3 class="h5 mb-2">üöÄ –ü–∏–ª–æ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ –°–æ—á–∏</h3>
                    <p class="mb-0">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ä–µ–≤–æ–ª—é—Ü–∏–∏ –≥–æ—Ä–æ–¥—Å–∫–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç–∞</p>
                </div>

                <div class="d-flex gap-3 flex-wrap animate-fade-in-up animation-delay-400">
                    <button class="btn btn-primary-custom btn-animated hover-shine" onclick="showFilters()">
                        <i class="bi bi-search icon-bounce"></i> –ù–ê–ô–¢–ò –¢–£–ê–õ–ï–¢
                    </button>
                    <a href="#" class="btn btn-secondary-custom btn-animated hover-shine">
                        <i class="bi bi-download icon-bounce"></i> –°–ö–ê–ß–ê–¢–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–ï
                    </a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="position-relative animate-fade-in-right animation-delay-500">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%234ECDC4;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%232B7A78;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='600' height='400' fill='%23f8f9fa'/%3E%3Cg transform='translate(300,200)'%3E%3Ccircle r='150' fill='url(%23grad)' opacity='0.1'/%3E%3Ccircle r='100' fill='url(%23grad)' opacity='0.2'/%3E%3Cpath d='M-30,-60 Q-30,-30 0,-30 Q30,-30 30,-60 Q30,-90 0,-120 Q-30,-90 -30,-60' fill='white' transform='scale(1.5)'/%3E%3Ccircle cx='0' cy='-30' r='20' fill='%234ECDC4'/%3E%3C/g%3E%3Ctext x='300' y='350' text-anchor='middle' font-family='Arial' font-size='24' fill='%232C3E50'>–£–º–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–¥–µ—Å—å</text%3E%3C/svg%3E" 
                         alt="–°–∞–Ω—ã—á - —É–º–Ω—ã–µ —Ç—É–∞–ª–µ—Ç—ã" class="img-fluid animate-float parallax-element" data-speed="0.5">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<section class="section-padding">
    <div class="container">
        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filter-section mb-4" id="filterSection" style="display: none;">
            <h4 class="mb-4">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∏—Å–∫</h4>
            <div class="row g-3">
                <div class="col-md-3">
                    <label class="form-label fw-bold text-uppercase" style="font-size: 0.875rem; letter-spacing: 1px;">–¶–µ–Ω–∞</label>
                    <div class="d-flex gap-2">
                        <input type="number" class="form-control form-control-custom" id="minPrice" placeholder="–û—Ç">
                        <input type="number" class="form-control form-control-custom" id="maxPrice" placeholder="–î–æ">
                    </div>
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold text-uppercase" style="font-size: 0.875rem; letter-spacing: 1px;">–†–µ–π—Ç–∏–Ω–≥</label>
                    <select class="form-select form-control-custom" id="minRating">
                        <option value="">–õ—é–±–æ–π</option>
                        <option value="4">4+ ‚≠ê</option>
                        <option value="4.5">4.5+ ‚≠ê</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold text-uppercase" style="font-size: 0.875rem; letter-spacing: 1px;">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</label>
                    <div class="form-check mt-2">
                        <input class="form-check-input" type="checkbox" id="isAccessible">
                        <label class="form-check-label" for="isAccessible">
                            <i class="bi bi-universal-access-circle"></i> –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–æ–≤
                        </label>
                    </div>
                </div>
                <div class="col-md-3 d-flex align-items-end">
                    <button class="btn btn-primary-custom w-100" onclick="applyFilters()">
                        –ü–†–ò–ú–ï–ù–ò–¢–¨ –§–ò–õ–¨–¢–†–´
                    </button>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- –ö–∞—Ä—Ç–∞ -->
            <div class="col-lg-8 mb-4">
                <div class="card card-custom">
                    <div class="card-header bg-dark text-white py-3">
                        <h5 class="mb-0"><i class="bi bi-map"></i> –ö–∞—Ä—Ç–∞ —Ç—É–∞–ª–µ—Ç–æ–≤</h5>
                    </div>
                    <div id="map" style="width: 100%; height: 600px;"></div>
                </div>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Ç—É–∞–ª–µ—Ç–æ–≤ -->
            <div class="col-lg-4">
                <div class="d-flex justify-content-between align-items-center mb-3 scroll-reveal">
                    <h5 class="mb-0">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç—É–∞–ª–µ—Ç—ã</h5>
                    <span class="badge bg-primary-custom counter" data-target="0" id="toiletCount">0</span>
                </div>
                <div id="toiletsList" style="max-height: 600px; overflow-y: auto;">
                    <!-- –¢—É–∞–ª–µ—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
                </div>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ -->
<section class="bg-light-custom section-padding">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –°–∞–Ω—ã—á?</h2>
            <p class="lead text-muted">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4 scroll-reveal">
                <div class="text-center hover-lift">
                    <div class="mb-3 animate-bounce" style="font-size: 3rem; color: var(--primary-green);">
                        <i class="bi bi-clock-history"></i>
                    </div>
                    <h4>–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏</h4>
                    <p class="text-muted">–ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ç—É–∞–ª–µ—Ç —á–∞—Å–∞–º–∏. –ù–∞–π–¥–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π –∑–∞ —Å–µ–∫—É–Ω–¥—ã.</p>
                </div>
            </div>
            <div class="col-md-4 scroll-reveal animation-delay-200">
                <div class="text-center hover-lift">
                    <div class="mb-3 animate-bounce" style="font-size: 3rem; color: var(--primary-green);">
                        <i class="bi bi-shield-check"></i>
                    </div>
                    <h4>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h4>
                    <p class="text-muted">–¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π —á–∏—Å—Ç–æ—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p>
                </div>
            </div>
            <div class="col-md-4 scroll-reveal animation-delay-400">
                <div class="text-center hover-lift">
                    <div class="mb-3 animate-bounce" style="font-size: 3rem; color: var(--primary-green);">
                        <i class="bi bi-phone"></i>
                    </div>
                    <h4>–£–¥–æ–±—Å—Ç–≤–æ</h4>
                    <p class="text-muted">–û–ø–ª–∞—Ç–∞ –æ–Ω–ª–∞–π–Ω, QR-–∫–æ–¥ –¥–ª—è –≤—Ö–æ–¥–∞. –í—Å—ë –≤ –≤–∞—à–µ–º —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ -->
<section class="section-padding" style="background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%); color: white; position: relative; overflow: hidden;">
    <div class="particles-bg"></div>
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <h2 class="display-5 fw-bold mb-4 animate-fade-in-left">
                    –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ —Ç—É–∞–ª–µ—Ç –≤ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞
                </h2>
                <p class="lead mb-4 animate-fade-in-left animation-delay-200">
                    –ú–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è. 
                    –ù–∞—à–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –æ–±—ã—á–Ω—ã–π —Ç—É–∞–ª–µ—Ç –≤ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞.
                </p>
                
                <div class="row g-3 mb-4">
                    <div class="col-sm-6 animate-fade-in-up animation-delay-300">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-check-circle-fill fs-4 me-3"></i>
                            <span>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 1 –¥–µ–Ω—å</span>
                        </div>
                    </div>
                    <div class="col-sm-6 animate-fade-in-up animation-delay-400">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-check-circle-fill fs-4 me-3"></i>
                            <span>–ë–µ–∑ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª</span>
                        </div>
                    </div>
                    <div class="col-sm-6 animate-fade-in-up animation-delay-500">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-check-circle-fill fs-4 me-3"></i>
                            <span>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–ª–∞—Ç–∞</span>
                        </div>
                    </div>
                    <div class="col-sm-6 animate-fade-in-up animation-delay-600">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-check-circle-fill fs-4 me-3"></i>
                            <span>–ù–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã</span>
                        </div>
                    </div>
                </div>
                
                <div class="animate-fade-in-up animation-delay-700">
                    <a href="/register" class="btn btn-light btn-lg px-4 py-3 fw-bold hover-lift">
                        –°–¢–ê–¢–¨ –ü–ê–†–¢–ù–Å–†–û–ú
                    </a>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="bg-white text-dark p-4 rounded-3 shadow-lg animate-scale-in animation-delay-300">
                    <h3 class="h4 mb-4 text-center">
                        <i class="bi bi-calculator text-primary-custom"></i> 
                        –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–∏–±—ã–ª–∏
                    </h3>
                    
                    <div class="mb-4">
                        <label class="form-label fw-bold">–ü—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –¥–µ–Ω—å:</label>
                        <input type="range" class="form-range" id="visitorsRange" min="50" max="500" value="200" oninput="calculateProfit()">
                        <div class="d-flex justify-content-between">
                            <small>50</small>
                            <span class="fw-bold text-primary-custom" id="visitorsValue">200</span>
                            <small>500</small>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label fw-bold">–¶–µ–Ω–∞ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (‚ÇΩ):</label>
                        <input type="range" class="form-range" id="priceRange" min="20" max="100" value="50" step="10" oninput="calculateProfit()">
                        <div class="d-flex justify-content-between">
                            <small>20‚ÇΩ</small>
                            <span class="fw-bold text-primary-custom" id="priceValue">50‚ÇΩ</span>
                            <small>100‚ÇΩ</small>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label fw-bold">–ö–æ–Ω–≤–µ—Ä—Å–∏—è (% –æ—Ç –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏):</label>
                        <input type="range" class="form-range" id="conversionRange" min="5" max="30" value="15" oninput="calculateProfit()">
                        <div class="d-flex justify-content-between">
                            <small>5%</small>
                            <span class="fw-bold text-primary-custom" id="conversionValue">15%</span>
                            <small>30%</small>
                        </div>
                    </div>
                    
                    <div class="results-box p-4 rounded" style="background: #f8f9fa;">
                        <div class="row text-center">
                            <div class="col-4">
                                <div class="mb-2">
                                    <small class="text-muted">–í –¥–µ–Ω—å</small>
                                </div>
                                <h4 class="fw-bold text-primary-custom mb-0">
                                    <span id="dailyProfit">1,500</span>‚ÇΩ
                                </h4>
                            </div>
                            <div class="col-4">
                                <div class="mb-2">
                                    <small class="text-muted">–í –º–µ—Å—è—Ü</small>
                                </div>
                                <h4 class="fw-bold text-primary-custom mb-0">
                                    <span id="monthlyProfit">45,000</span>‚ÇΩ
                                </h4>
                            </div>
                            <div class="col-4">
                                <div class="mb-2">
                                    <small class="text-muted">–í –≥–æ–¥</small>
                                </div>
                                <h4 class="fw-bold text-success mb-0">
                                    <span id="yearlyProfit">540,000</span>‚ÇΩ
                                </h4>
                            </div>
                        </div>
                        
                        <hr class="my-3">
                        
                        <div class="text-center">
                            <small class="text-muted">–ü—Ä–∏ –∫–æ–º–∏—Å—Å–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 20%</small>
                            <h5 class="mt-2 mb-0">
                                –í–∞—à–∞ —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –≤ –≥–æ–¥: 
                                <span class="fw-bold text-success" id="netProfit">432,000</span>‚ÇΩ
                            </h5>
                        </div>
                    </div>
                    
                    <div class="alert alert-info mt-3 mb-0">
                        <i class="bi bi-info-circle"></i>
                        <small>–†–∞—Å—á—ë—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å—Ä–µ–¥–Ω–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è—Ö –Ω–∞—à–∏—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –≤ –°–æ—á–∏</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="row mt-5 pt-5 text-center">
            <div class="col-md-3 mb-4 scroll-reveal">
                <h2 class="display-4 fw-bold counter" data-target="127">0</h2>
                <p class="text-white-50">–ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –≤ –°–æ—á–∏</p>
            </div>
            <div class="col-md-3 mb-4 scroll-reveal animation-delay-200">
                <h2 class="display-4 fw-bold counter" data-target="85000">0</h2>
                <p class="text-white-50">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –º–µ—Å—è—Ü</p>
            </div>
            <div class="col-md-3 mb-4 scroll-reveal animation-delay-400">
                <h2 class="display-4 fw-bold"><span class="counter" data-target="35">0</span>%</h2>
                <p class="text-white-50">–†–æ—Å—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤</p>
            </div>
            <div class="col-md-3 mb-4 scroll-reveal animation-delay-600">
                <h2 class="display-4 fw-bold"><span class="counter" data-target="24">0</span>/7</h2>
                <p class="text-white-50">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</p>
            </div>
        </div>
    </div>
</section>

<!-- –ö–µ–π—Å—ã —É—Å–ø–µ—Ö–∞ -->
<section class="section-padding">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">–ò—Å—Ç–æ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –Ω–∞—à–∏—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤</h2>
            <p class="lead text-muted">–†–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 scroll-reveal">
                <div class="card h-100 shadow-sm hover-lift">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Ccircle cx='30' cy='30' r='30' fill='%23e3f2fd'/%3E%3Ctext x='30' y='35' text-anchor='middle' font-size='20' fill='%232196f3'%3E‚òï%3C/text%3E%3C/svg%3E" 
                                 alt="–ö–æ—Ñ–µ–π–Ω—è" class="me-3">
                            <div>
                                <h5 class="mb-0">–ö–æ—Ñ–µ–π–Ω—è "–ê—Ä–æ–º–∞—Ç"</h5>
                                <small class="text-muted">–¶–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞</small>
                            </div>
                        </div>
                        <p class="text-muted mb-3">
                            "–ó–∞ 3 –º–µ—Å—è—Ü–∞ —Ä–∞–±–æ—Ç—ã —Å –°–∞–Ω—ã—á –º—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ 180,000‚ÇΩ –¥–æ—Ö–æ–¥–∞. 
                            –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –Ω–∞–º –æ–±–Ω–æ–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –≤ –∫–æ—Ñ–µ–π–Ω–µ."
                        </p>
                        <div class="d-flex justify-content-between text-center">
                            <div>
                                <h6 class="mb-0 text-primary-custom">+60,000‚ÇΩ</h6>
                                <small class="text-muted">–≤ –º–µ—Å—è—Ü</small>
                            </div>
                            <div>
                                <h6 class="mb-0 text-primary-custom">+40%</h6>
                                <small class="text-muted">–Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 scroll-reveal animation-delay-200">
                <div class="card h-100 shadow-sm hover-lift">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Ccircle cx='30' cy='30' r='30' fill='%23fff3e0'/%3E%3Ctext x='30' y='35' text-anchor='middle' font-size='20' fill='%23ff9800'%3Eüçï%3C/text%3E%3C/svg%3E" 
                                 alt="–†–µ—Å—Ç–æ—Ä–∞–Ω" class="me-3">
                            <div>
                                <h5 class="mb-0">–†–µ—Å—Ç–æ—Ä–∞–Ω "–£ –º–æ—Ä—è"</h5>
                                <small class="text-muted">–ù–∞–±–µ—Ä–µ–∂–Ω–∞—è</small>
                            </div>
                        </div>
                        <p class="text-muted mb-3">
                            "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞! –†–∞–Ω—å—à–µ —Ç—É–∞–ª–µ—Ç –±—ã–ª —Ç–æ–ª—å–∫–æ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏, 
                            —Ç–µ–ø–µ—Ä—å –æ–Ω –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏–±—ã–ª—å –∏ –Ω–æ–≤—ã—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π."
                        </p>
                        <div class="d-flex justify-content-between text-center">
                            <div>
                                <h6 class="mb-0 text-primary-custom">+45,000‚ÇΩ</h6>
                                <small class="text-muted">–≤ –º–µ—Å—è—Ü</small>
                            </div>
                            <div>
                                <h6 class="mb-0 text-primary-custom">300+</h6>
                                <small class="text-muted">–≤–∏–∑–∏—Ç–æ–≤/–¥–µ–Ω—å</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 scroll-reveal animation-delay-400">
                <div class="card h-100 shadow-sm hover-lift">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Ccircle cx='30' cy='30' r='30' fill='%23f3e5f5'/%3E%3Ctext x='30' y='35' text-anchor='middle' font-size='20' fill='%239c27b0'%3EüõçÔ∏è%3C/text%3E%3C/svg%3E" 
                                 alt="–¢–¶" class="me-3">
                            <div>
                                <h5 class="mb-0">–¢–¶ "–ì–∞–ª–µ—Ä–µ—è"</h5>
                                <small class="text-muted">3 —Ç–æ—á–∫–∏</small>
                            </div>
                        </div>
                        <p class="text-muted mb-3">
                            "–£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Å–∏—Å—Ç–µ–º—É –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–∂–∞—Ö. –û–∫—É–ø–∞–µ–º–æ—Å—Ç—å - 2 –º–µ—Å—è—Ü–∞. 
                            –ü–ª–∞–Ω–∏—Ä—É–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –Ω–∞—à–∏ –¢–¶."
                        </p>
                        <div class="d-flex justify-content-between text-center">
                            <div>
                                <h6 class="mb-0 text-primary-custom">+150,000‚ÇΩ</h6>
                                <small class="text-muted">–≤ –º–µ—Å—è—Ü</small>
                            </div>
                            <div>
                                <h6 class="mb-0 text-primary-custom">4.8 ‚≠ê</h6>
                                <small class="text-muted">—Ä–µ–π—Ç–∏–Ω–≥</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- –°–µ–∫—Ü–∏—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å–µ–∫—Ü–∏–∏ "–ö–µ–π—Å—ã —É—Å–ø–µ—Ö–∞") -->
<section class="section-padding bg-light-custom">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
            <p class="lead text-muted">–ù–∞–¥–µ–∂–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –æ—Ç –º–∏—Ä–æ–≤—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π</p>
        </div>
        
        <div class="row align-items-center">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <div class="position-relative">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 500'%3E%3Cdefs%3E%3ClinearGradient id='techGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%234ECDC4;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%232B7A78;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='600' height='500' fill='%23f8f9fa'/%3E%3C!-- –ö–æ—Ä–ø—É—Å –∑–∞–º–∫–∞ --%3E%3Crect x='150' y='100' width='300' height='200' fill='%23333' rx='10'/%3E%3Crect x='160' y='110' width='280' height='180' fill='%23555' rx='5'/%3E%3C!-- –ú–∞–≥–Ω–∏—Ç–Ω–∞—è –ø–ª–∞—Å—Ç–∏–Ω–∞ --%3E%3Crect x='200' y='150' width='200' height='100' fill='url(%23techGrad)' rx='5'/%3E%3C!-- QR —Å–∫–∞–Ω–µ—Ä --%3E%3Crect x='250' y='320' width='100' height='120' fill='%23222' rx='5'/%3E%3Crect x='265' y='335' width='70' height='70' fill='%23000'/%3E%3C!-- QR –∫–æ–¥ --%3E%3Cg transform='translate(300,370)'%3E%3Crect x='-25' y='-25' width='50' height='50' fill='white'/%3E%3Cpath d='M-20,-20 h10 v10 h-10 z M0,-20 h10 v10 h-10 z M-20,0 h10 v10 h-10 z M10,10 h10 v10 h-10 z M-10,-10 h10 v10 h-10 z' fill='black'/%3E%3C/g%3E%3C!-- –ü—Ä–æ–≤–æ–¥–∞ --%3E%3Cpath d='M350,250 Q400,250 400,370 L350,370' stroke='%23666' stroke-width='3' fill='none'/%3E%3Cpath d='M250,250 Q200,250 200,370 L250,370' stroke='%23666' stroke-width='3' fill='none'/%3E%3C!-- –¢–µ–∫—Å—Ç --%3E%3Ctext x='300' y='50' text-anchor='middle' font-family='Arial' font-size='24' font-weight='bold' fill='%232C3E50'%3EMENGQI-CONTROL System%3C/text%3E%3C/svg%3E" 
                         alt="MENGQI-CONTROL QR Access System" class="img-fluid rounded shadow-lg hover-lift">
                    
                    <!-- –ü–ª–∞–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
                    <div class="position-absolute top-0 start-0 mt-4 ms-4 animate-float">
                        <span class="badge bg-success p-3 shadow">
                            <i class="bi bi-shield-check fs-4"></i>
                        </span>
                    </div>
                    <div class="position-absolute bottom-0 end-0 mb-4 me-4 animate-float animation-delay-200">
                        <span class="badge bg-primary-custom p-3 shadow">
                            <i class="bi bi-qr-code fs-4"></i>
                        </span>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="ps-lg-5">
                    <h3 class="h2 mb-4">MENGQI-CONTROL QR Code Access Control Kit</h3>
                    
                    <p class="lead mb-4">
                        –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π QR-–∫–æ–¥–æ–≤, 
                        –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –≤–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
                    </p>
                    
                    <div class="mb-4">
                        <h5 class="mb-3">–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –∫–æ–º–ø–ª–µ–∫—Ç:</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong>QR-–∫–æ–¥ —Ä–∏–¥–µ—Ä 2D</strong> - —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–¥—ã —Å —ç–∫—Ä–∞–Ω–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong>–ú–∞–≥–Ω–∏—Ç–Ω—ã–π –∑–∞–º–æ–∫ 600lbs (272–∫–≥)</strong> - –Ω–∞–¥–µ–∂–Ω–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è –¥–≤–µ—Ä–∏
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong>TCP/IP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</strong> - —É–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong>–ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 110-240V</strong> - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong>–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</strong> - –¥–ª—è iOS –∏ Android
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong>–ü–û —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</strong> - –¥–æ 20,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                            </li>
                        </ul>
                    </div>
                    
                    <div class="row g-3 mb-4">
                        <div class="col-sm-6">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0">
                                    <div class="icon-box bg-primary-custom text-white">
                                        <i class="bi bi-lightning-fill"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-0">–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫</h6>
                                    <small class="text-muted">0.2 —Å–µ–∫ –Ω–∞ —Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0">
                                    <div class="icon-box bg-primary-custom text-white">
                                        <i class="bi bi-database-fill"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-0">–ë–æ–ª—å—à–∞—è –ø–∞–º—è—Ç—å</h6>
                                    <small class="text-muted">100,000 –∑–∞–ø–∏—Å–µ–π</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –¶–µ–Ω—ã -->
                    <div class="pricing-box p-4 rounded-3 bg-white shadow-sm mb-4">
                        <h5 class="mb-3">–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:</h5>
                        <div class="row">
                            <div class="col-6">
                                <div class="text-center p-3 border-end">
                                    <h4 class="text-primary-custom mb-1">15,000‚ÇΩ</h4>
                                    <small class="text-muted">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</small>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="text-center p-3">
                                    <h4 class="text-primary-custom mb-1">10,000‚ÇΩ</h4>
                                    <small class="text-muted">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</small>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="text-center">
                            <h3 class="text-success mb-0">25,000‚ÇΩ</h3>
                            <small class="text-muted">–ü–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å "–ø–æ–¥ –∫–ª—é—á"</small>
                        </div>
                    </div>
                    
                    <div class="alert alert-success d-flex align-items-center">
                        <i class="bi bi-info-circle-fill me-2"></i>
                        <div>
                            <strong>–û–∫—É–ø–∞–µ–º–æ—Å—Ç—å: 1-2 –º–µ—Å—è—Ü–∞</strong><br>
                            <small>–ü—Ä–∏ —Å—Ä–µ–¥–Ω–µ–π –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏ 200 —á–µ–ª–æ–≤–µ–∫/–¥–µ–Ω—å</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
        <div class="row mt-5 g-4">
            <div class="col-md-3 text-center scroll-reveal">
                <div class="feature-icon mb-3">
                    <i class="bi bi-water display-4 text-primary-custom"></i>
                </div>
                <h5>–í–ª–∞–≥–æ–∑–∞—â–∏—Ç–∞ IP65</h5>
                <p class="text-muted small">–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —É–ª–∏—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏</p>
            </div>
            <div class="col-md-3 text-center scroll-reveal animation-delay-200">
                <div class="feature-icon mb-3">
                    <i class="bi bi-thermometer-snow display-4 text-primary-custom"></i>
                </div>
                <h5>-40¬∞C –¥–æ +60¬∞C</h5>
                <p class="text-muted small">–†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö</p>
            </div>
            <div class="col-md-3 text-center scroll-reveal animation-delay-400">
                <div class="feature-icon mb-3">
                    <i class="bi bi-wifi display-4 text-primary-custom"></i>
                </div>
                <h5>–£–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø</h5>
                <p class="text-muted small">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</p>
            </div>
            <div class="col-md-3 text-center scroll-reveal animation-delay-600">
                <div class="feature-icon mb-3">
                    <i class="bi bi-tools display-4 text-primary-custom"></i>
                </div>
                <h5>–ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞</h5>
                <p class="text-muted small">–ú–æ–Ω—Ç–∞–∂ –∑–∞ 2-3 —á–∞—Å–∞</p>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ -->
<section class="section-padding">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">–ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∞?</h2>
            <p class="lead text-muted">–û—Ç –∑–∞—è–≤–∫–∏ –¥–æ –∑–∞–ø—É—Å–∫–∞ - –≤—Å–µ–≥–æ 3 –¥–Ω—è</p>
        </div>
        
        <div class="timeline">
            <div class="timeline-item scroll-reveal">
                <div class="timeline-marker">1</div>
                <div class="timeline-content">
                    <h5>–ó–∞—è–≤–∫–∞ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</h5>
                    <p class="text-muted">–í—ã–µ–∑–¥ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞, –æ—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–∫—Ç–∞, –ø–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏</p>
                    <small class="text-primary-custom">–î–µ–Ω—å 1</small>
                </div>
            </div>
            
            <div class="timeline-item scroll-reveal animation-delay-200">
                <div class="timeline-marker">2</div>
                <div class="timeline-content">
                    <h5>–ú–æ–Ω—Ç–∞–∂ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h5>
                    <p class="text-muted">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–º–∫–∞, —Å—á–∏—Ç—ã–≤–∞—Ç–µ–ª—è, –ø—Ä–æ–∫–ª–∞–¥–∫–∞ –∫–∞–±–µ–ª–µ–π, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è</p>
                    <small class="text-primary-custom">–î–µ–Ω—å 2</small>
                </div>
            </div>
            
            <div class="timeline-item scroll-reveal animation-delay-400">
                <div class="timeline-marker">3</div>
                <div class="timeline-content">
                    <h5>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h5>
                    <p class="text-muted">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –°–∞–Ω—ã—á, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</p>
                    <small class="text-primary-custom">–î–µ–Ω—å 3</small>
                </div>
            </div>
            
            <div class="timeline-item scroll-reveal animation-delay-600">
                <div class="timeline-marker">‚úì</div>
                <div class="timeline-content">
                    <h5>–ó–∞–ø—É—Å–∫ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h5>
                    <p class="text-muted">–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7, –≥–∞—Ä–∞–Ω—Ç–∏—è 2 –≥–æ–¥–∞</p>
                    <small class="text-success">–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!</small>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-5">
            <a href="/register" class="btn btn-primary-custom btn-lg px-5 py-3 fw-bold hover-lift">
                <i class="bi bi-rocket-takeoff me-2"></i> –ù–ê–ß–ê–¢–¨ –ó–ê–†–ê–ë–ê–¢–´–í–ê–¢–¨
            </a>
        </div>
    </div>
</section>

<style>
    .icon-box {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }
    
    .pricing-box {
        border: 2px solid #e0e0e0;
        transition: all 0.3s ease;
    }
    
    .pricing-box:hover {
        border-color: var(--primary-green);
        transform: translateY(-5px);
    }
    
    .feature-icon {
        transition: transform 0.3s ease;
    }
    
    .feature-icon:hover {
        transform: scale(1.1) rotate(5deg);
    }
    
    /* Timeline —Å—Ç–∏–ª–∏ */
    .timeline {
        position: relative;
        padding: 2rem 0;
    }
    
    .timeline::before {
        content: '';
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 2px;
        background: #e0e0e0;
        transform: translateX(-50%);
    }
    
    .timeline-item {
        position: relative;
        margin-bottom: 3rem;
        opacity: 0;
        transform: translateY(30px);
    }
    
    .timeline-item.revealed {
        animation: fadeInUp 0.6s ease forwards;
    }
    
    .timeline-marker {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        width: 50px;
        height: 50px;
        background: var(--primary-green);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.25rem;
        box-shadow: 0 3px 15px rgba(78, 205, 196, 0.4);
        z-index: 1;
    }
    
    .timeline-content {
        width: 45%;
        padding: 1.5rem;
        background: white;
        border-radius: 8px;
        box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    }
    
    .timeline-item:nth-child(odd) .timeline-content {
        margin-left: auto;
        text-align: left;
    }
    
    .timeline-item:nth-child(even) .timeline-content {
        margin-right: auto;
        text-align: right;
    }
    
    @media (max-width: 768px) {
        .timeline::before {
            left: 30px;
        }
        
        .timeline-marker {
            left: 30px;
        }
        
        .timeline-content {
            width: calc(100% - 80px);
            margin-left: 80px !important;
            text-align: left !important;
        }
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–≤–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
    @keyframes float {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-20px);
        }
    }
    
    .animate-float {
        animation: float 3s ease-in-out infinite;
    }
    
    /* Text gradient animation */
    .text-gradient-animated {
        background: linear-gradient(45deg, #4ECDC4, #2B7A78, #4ECDC4);
        background-size: 200% 200%;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: gradientShift 3s ease infinite;
    }
    
    @keyframes gradientShift {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }
</style>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è QR-–∫–æ–¥–∞ -->
<div class="modal fade" id="qrModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-qr-code"></i> –í–∞—à QR-–∫–æ–¥ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body text-center">
                <img id="qrImage" src="" alt="QR Code" class="img-fluid mb-3" style="max-width: 300px;">
                <p class="text-muted mb-2">–ü–æ–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ –≤—Ö–æ–¥–µ</p>
                <p class="text-danger fw-bold" id="expiresAt"></p>
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç -->
<script src="https://api-maps.yandex.ru/2.1/?apikey=YOUR_API_KEY&lang=ru_RU" type="text/javascript"></script>

<script>
    let myMap;
    let placemarks = [];
    let toilets = [];

    // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
    function showFilters() {
        const filterSection = document.getElementById('filterSection');
        filterSection.style.display = filterSection.style.display === 'none' ? 'block' : 'none';
        if (filterSection.style.display === 'block') {
            filterSection.scrollIntoView({ behavior: 'smooth' });
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
    function initMap() {
        ymaps.ready(function () {
            myMap = new ymaps.Map("map", {
                center: [43.5858, 39.7203],
                zoom: 13,
                controls: ['zoomControl', 'fullscreenControl', 'geolocationControl']
            });

            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª –ø–æ–∏—Å–∫–∞
            myMap.controls.add('searchControl', {
                float: 'left'
            });

            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã
            myMap.controls.add('typeSelector');

            loadToilets();
        });
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—É–∞–ª–µ—Ç–æ–≤
    function loadToilets() {
        const params = new URLSearchParams();
        
        const minPrice = document.getElementById('minPrice').value;
        const maxPrice = document.getElementById('maxPrice').value;
        const minRating = document.getElementById('minRating').value;
        const isAccessible = document.getElementById('isAccessible').checked;
        
        if (minPrice) params.append('min_price', minPrice);
        if (maxPrice) params.append('max_price', maxPrice);
        if (minRating) params.append('min_rating', minRating);
        if (isAccessible) params.append('is_accessible', isAccessible);
        
        fetch('/api/toilets?' + params.toString())
            .then(response => response.json())
            .then(data => {
                toilets = data;
                updateMap();
                updateList();
                document.getElementById('toiletCount').textContent = toilets.length;
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—É–∞–ª–µ—Ç–æ–≤:', error);
            });
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
    function updateMap() {
        if (!myMap) return;

        // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–∫–∏
        placemarks.forEach(placemark => myMap.geoObjects.remove(placemark));
        placemarks = [];

        // –°–æ–∑–¥–∞–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –º–µ—Ç–æ–∫
        const collection = new ymaps.GeoObjectCollection();

        toilets.forEach(toilet => {
            const placemark = new ymaps.Placemark([toilet.latitude, toilet.longitude], {
                balloonContentHeader: `<strong>${toilet.name}</strong>`,
                balloonContentBody: `
                    <p><i class="bi bi-geo-alt"></i> ${toilet.address}</p>
                    <p>
                        <span style="background: #4ECDC4; color: white; padding: 4px 12px; border-radius: 20px; font-weight: bold;">${toilet.price}‚ÇΩ</span>
                        <span style="color: #FFA500; font-weight: bold; margin-left: 8px;">‚≠ê ${toilet.rating}</span>
                    </p>
                    ${toilet.description ? `<p style="font-size: 14px; color: #666;">${toilet.description}</p>` : ''}
                    <div style="margin-top: 10px;">
                        ${toilet.has_soap ? '<span style="margin-right: 8px;">üßº</span>' : ''}
                        ${toilet.has_paper ? '<span style="margin-right: 8px;">üßª</span>' : ''}
                        ${toilet.has_dryer ? '<span style="margin-right: 8px;">üí®</span>' : ''}
                        ${toilet.has_mirror ? '<span>ü™û</span>' : ''}
                    </div>
                    <button class="btn btn-sm btn-primary-custom w-100 mt-3" onclick="payForToilet(${toilet.id})">
                        –û–ø–ª–∞—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø
                    </button>
                `,
                hintContent: toilet.name
            }, {
                preset: 'islands#greenCircleDotIcon',
                iconColor: '#4ECDC4'
            });
            
            collection.add(placemark);
            placemarks.push(placemark);
        });

        myMap.geoObjects.add(collection);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏
        if (toilets.length > 0) {
            myMap.setBounds(collection.getBounds(), {
                checkZoomRange: true,
                zoomMargin: 40
            });
        }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—É–∞–ª–µ—Ç–æ–≤
    function updateList() {
        const listHtml = toilets.map((toilet, index) => `
            <div class="toilet-card hover-lift" style="animation: fadeInUp 0.6s ease ${index * 0.1}s forwards;">
                <div class="d-flex justify-content-between align-items-start mb-2">
                    <h6 class="fw-bold mb-0">${toilet.name}</h6>
                    ${toilet.is_accessible ? '<i class="bi bi-universal-access-circle text-primary-custom" title="–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–æ–≤"></i>' : ''}
                </div>
                <p class="text-muted small mb-2">
                    <i class="bi bi-geo-alt"></i> ${toilet.address}
                </p>
                <div class="mb-2">
                    ${toilet.has_soap ? '<span class="badge bg-light text-dark me-1">üßº –ú—ã–ª–æ</span>' : ''}
                    ${toilet.has_paper ? '<span class="badge bg-light text-dark me-1">üßª –ë—É–º–∞–≥–∞</span>' : ''}
                    ${toilet.has_dryer ? '<span class="badge bg-light text-dark me-1">üí® –°—É—à–∏–ª–∫–∞</span>' : ''}
                    ${toilet.has_mirror ? '<span class="badge bg-light text-dark">ü™û –ó–µ—Ä–∫–∞–ª–æ</span>' : ''}
                </div>
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <span class="price-badge">${toilet.price}‚ÇΩ</span>
                        <span class="rating ms-2">‚≠ê ${toilet.rating}</span>
                    </div>
                    <button class="btn btn-sm btn-primary-custom" onclick="payForToilet(${toilet.id})">
                        –û–ø–ª–∞—Ç–∏—Ç—å
                    </button>
                </div>
            </div>
        `).join('');
        
        document.getElementById('toiletsList').innerHTML = listHtml || '<p class="text-muted text-center">–¢—É–∞–ª–µ—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
        
        // –ê–Ω–∏–º–∞—Ü–∏—è —Å—á–µ—Ç—á–∏–∫–∞
        animateCounter(document.getElementById('toiletCount'));
    }

    // –û–ø–ª–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–∞
    function payForToilet(toiletId) {
        {% if current_user.is_authenticated %}
            fetch('/api/visits', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ toilet_id: toiletId })
            })
            .then(response => response.json())
            .then(data => {
                if (data.qr_image) {
                    document.getElementById('qrImage').src = data.qr_image;
                    document.getElementById('expiresAt').textContent = '–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: ' + new Date(data.expires_at).toLocaleString('ru-RU');
                    const modal = new bootstrap.Modal(document.getElementById('qrModal'));
                    modal.show();
                }
            })
            .catch(error => {
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            });
        {% else %}
            if (confirm('–î–ª—è –æ–ø–ª–∞—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É. –ü–µ—Ä–µ–π—Ç–∏ –∫ –≤—Ö–æ–¥—É?')) {
                window.location.href = '/login';
            }
        {% endif %}
    }

    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function applyFilters() {
        loadToilets();
    }

    // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–∏–±—ã–ª–∏ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞
    function calculateProfit() {
        const visitorsRange = document.getElementById('visitorsRange');
        const priceRange = document.getElementById('priceRange');
        const conversionRange = document.getElementById('conversionRange');
        
        if (!visitorsRange || !priceRange || !conversionRange) return;
        
        const visitors = parseInt(visitorsRange.value);
        const price = parseInt(priceRange.value);
        const conversion = parseInt(conversionRange.value);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
        document.getElementById('visitorsValue').textContent = visitors;
        document.getElementById('priceValue').textContent = price + '‚ÇΩ';
        document.getElementById('conversionValue').textContent = conversion + '%';
        
        // –†–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏
        const dailyVisits = Math.floor(visitors * (conversion / 100));
        const dailyProfit = dailyVisits * price;
        const monthlyProfit = dailyProfit * 30;
        const yearlyProfit = monthlyProfit * 12;
        const netProfit = Math.floor(yearlyProfit * 0.8); // –ü–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏ 20%
        
        // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π
        animateValue('dailyProfit', dailyProfit);
        animateValue('monthlyProfit', monthlyProfit);
        animateValue('yearlyProfit', yearlyProfit);
        animateValue('netProfit', netProfit);
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    function animateValue(id, end) {
        const element = document.getElementById(id);
        if (!element) return;
        
        const start = parseInt(element.textContent.replace(/,/g, '').replace(/[^\d]/g, '')) || 0;
        const duration = 500;
        const startTime = performance.now();
        
        function update(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            const current = Math.floor(start + (end - start) * easeOutQuad(progress));
            element.textContent = current.toLocaleString('ru-RU');
            
            if (progress < 1) {
                requestAnimationFrame(update);
            }
        }
        
        function easeOutQuad(t) {
            return t * (2 - t);
        }
        
        requestAnimationFrame(update);
    }

    // –§—É–Ω–∫—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å—á–µ—Ç—á–∏–∫–∞
    function animateCounter(counter) {
        const target = parseInt(counter.getAttribute('data-target'));
        const duration = 1000;
        const step = target / (duration / 16);
        let current = 0;
        
        const updateCounter = () => {
            current += step;
            if (current < target) {
                counter.textContent = Math.floor(current);
                requestAnimationFrame(updateCounter);
            } else {
                counter.textContent = target;
            }
        };
        
        updateCounter();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        initMap();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
        if (document.getElementById('visitorsRange')) {
            calculateProfit();
        }
        
        // –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å—á–µ—Ç—á–∏–∫–æ–≤
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const counter = entry.target;
                    if (!counter.classList.contains('animated')) {
                        counter.classList.add('animated');
                        animateCounter(counter);
                    }
                }
            });
        });
        
        // –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –≤—Å–µ–º–∏ —Å—á–µ—Ç—á–∏–∫–∞–º–∏
        document.querySelectorAll('.counter').forEach(counter => {
            observer.observe(counter);
        });
        
        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const scrollElements = document.querySelectorAll('.scroll-reveal');
        
        const elementInView = (el, dividend = 1) => {
            const elementTop = el.getBoundingClientRect().top;
            return (
                elementTop <= (window.innerHeight || document.documentElement.clientHeight) / dividend
            );
        };
        
        const displayScrollElement = (element) => {
            element.classList.add('revealed');
        };
        
        const handleScrollAnimation = () => {
            scrollElements.forEach((el) => {
                if (elementInView(el, 1.25)) {
                    displayScrollElement(el);
                }
            });
        };
        
        window.addEventListener('scroll', () => {
            handleScrollAnimation();
        });
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        handleScrollAnimation();
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∏–∫–æ–Ω–æ–∫ –≤ –∫–Ω–æ–ø–∫–∞—Ö
        const iconBounce = document.querySelectorAll('.icon-bounce');
        iconBounce.forEach(icon => {
            icon.style.display = 'inline-block';
            icon.style.animation = 'bounce 2s infinite';
        });
    });
</script>

<style>
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .toilet-card {
        background: white;
        padding: 1.25rem;
        border-radius: 8px;
        margin-bottom: 1rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        transition: all 0.3s ease;
        opacity: 0;
    }

    .toilet-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    }

    .price-badge {
        background: #4ECDC4;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.875rem;
    }

    .rating {
        color: #FFA500;
        font-weight: bold;
    }

    .btn-primary-custom {
        background: #4ECDC4;
        border: none;
        color: white;
        font-weight: bold;
        transition: all 0.3s ease;
    }

    .btn-primary-custom:hover {
        background: #2B7A78;
        transform: scale(1.05);
        color: white;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –±–∞–ª—É–Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç */
    .ymaps-2-1-79-balloon__content {
        padding: 10px !important;
    }

    .badge {
        font-size: 0.75rem;
    }
</style>
{% endblock %}